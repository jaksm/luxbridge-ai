specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: RWATokenFactory
    network: localhost
    source:
      address: "0x5FbDB2315678afecb367f032d93F642f64180aa3"
      abi: RWATokenFactory
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Platform
        - Asset
        - TokenizationEvent
        - AssetBurnEvent
        - ValuationUpdateEvent
      abis:
        - name: RWATokenFactory
          file: ../artifacts/contracts/core/RWATokenFactory.sol/RWATokenFactory.json
        - name: RWA20Token
          file: ../artifacts/contracts/core/RWA20Token.sol/RWA20Token.json
      eventHandlers:
        - event: AssetTokenized(indexed string,indexed string,indexed address,uint256,uint256)
          handler: handleAssetTokenized
        - event: AssetBurned(indexed string,indexed string,indexed address,uint256)
          handler: handleAssetBurned
        - event: ValuationUpdated(indexed string,indexed string,uint256,uint256,uint256)
          handler: handleValuationUpdated
        - event: CrossPlatformSwap(indexed address,string,string,string,string,uint256,uint256)
          handler: handleCrossPlatformSwap
      file: ./src/mappings.ts
  - kind: ethereum
    name: LuxBridgeAMM
    network: localhost
    source:
      address: "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512"
      abi: LuxBridgeAMM
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - LiquidityPool
        - LiquidityEvent
        - SwapEvent
      abis:
        - name: LuxBridgeAMM
          file: ../artifacts/contracts/core/LuxBridgeAMM.sol/LuxBridgeAMM.json
      eventHandlers:
        - event: PoolCreated(indexed address,indexed address,bytes32)
          handler: handlePoolCreated
        - event: LiquidityAdded(indexed bytes32,indexed address,uint256,uint256,uint256)
          handler: handleLiquidityAdded
        - event: LiquidityRemoved(indexed bytes32,indexed address,uint256,uint256,uint256)
          handler: handleLiquidityRemoved
        - event: Swap(indexed bytes32,indexed address,address,address,uint256,uint256)
          handler: handleSwap
      file: ./src/mappings.ts
  - kind: ethereum
    name: LuxBridgePriceOracle
    network: localhost
    source:
      address: "0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0"
      abi: LuxBridgePriceOracle
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - PriceUpdate
        - ArbitrageOpportunity
      abis:
        - name: LuxBridgePriceOracle
          file: ../artifacts/contracts/oracles/LuxBridgePriceOracle.sol/LuxBridgePriceOracle.json
      eventHandlers:
        - event: PriceUpdated(indexed string,indexed string,uint256,uint256)
          handler: handlePriceUpdated
        - event: ArbitrageOpportunity(string,uint256,uint256)
          handler: handleArbitrageOpportunity
      file: ./src/mappings.ts
